---
config:
  layout: dagre
---
flowchart LR
 subgraph UserDevices["User Devices"]
        Browser("Web Browser (Client)")
  end
 subgraph Components["App Components"]
    direction LR
        AuthComponents("Authentication")
        EventComponents("Event Management")
        PaymentComponents("Payment")
        QRScanner("QR Code Scanner")
        AdminDashboard("Admin Dashboard")
  end
 subgraph Frontend["Frontend: React Application"]
    direction TB
        ReactApp("React Application")
        Components
        ReactLibraries("Axios, React Router, Tailwind")
  end
 subgraph API_Endpoints["API Endpoints"]
    direction LR
        AuthAPI("Authentication API")
        EventAPI("Event API")
        PaymentAPI("Payment API")
        TicketAPI("Ticket API")
        UserAPI("User API")
        VerificationAPI("Verification API")
  end
 subgraph Middleware["Middleware"]
    direction LR
        AuthMiddleware("Auth Middleware")
        RoleMiddleware("Role Middleware")
        FileUploadMiddleware("File Upload (Multer)")
  end
 subgraph Backend["Backend: Node.js/Express.js"]
    direction TB
        ExpressServer("Express Server")
        API_Endpoints
        Middleware
        UploadsFolder("Uploads (Images)")
  end
 subgraph Collections["Collections"]
        UsersCollection("Users")
        EventsCollection("Events")
        TicketsCollection("Tickets")
  end
 subgraph Database["Database"]
    direction TB
        MongoDB("MongoDB Atlas")
        Collections
  end
 subgraph ThirdParty["Third-Party Services"]
        FirebaseAuth("Firebase Auth")
        StripePayment("Stripe")
        TwilioSMS("Twilio SMS")
  end
 subgraph Infrastructure["Infrastructure"]
    direction LR
        Docker("Docker Containers")
        DockerCompose("Docker Compose")
  end
    Browser -- HTTPS ---> ReactApp
    ReactApp ---> ReactLibraries & Components
    ReactApp -- REST ---> ExpressServer
    Components -. REST Calls .-> API_Endpoints
    ExpressServer ---> API_Endpoints & Middleware & UploadsFolder
    API_Endpoints -.-> MongoDB
    MongoDB --o Collections
    AuthAPI <--> FirebaseAuth
    PaymentAPI <--> StripePayment
    TicketAPI -- Notify --> TwilioSMS
    Docker ----> ReactApp & ExpressServer
    DockerCompose ----> Docker
     Browser:::primary
     AuthComponents:::secondary
     EventComponents:::secondary
     PaymentComponents:::secondary
     QRScanner:::secondary
     AdminDashboard:::secondary
     ReactApp:::primary
     ReactLibraries:::tertiary
     AuthMiddleware:::tertiary
     RoleMiddleware:::tertiary
     FileUploadMiddleware:::tertiary
     ExpressServer:::primary
     UploadsFolder:::tertiary
     UsersCollection:::database
     EventsCollection:::database
     TicketsCollection:::database
     MongoDB:::database
     FirebaseAuth:::thirdparty
     StripePayment:::thirdparty
     TwilioSMS:::thirdparty
     Docker:::infrastructure
     DockerCompose:::infrastructure
    classDef primary fill:#f9f,stroke:#333,stroke-width:2px
    classDef secondary fill:#bbf,stroke:#333,stroke-width:1px
    classDef tertiary fill:#ddf,stroke:#333,stroke-width:1px
    classDef database fill:#bfb,stroke:#333,stroke-width:2px
    classDef thirdparty fill:#fbb,stroke:#333,stroke-width:2px
    classDef infrastructure fill:#ffd,stroke:#333,stroke-width:2px
